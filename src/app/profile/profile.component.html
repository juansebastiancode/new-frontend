<html style="height: 100%; background: linear-gradient(135deg, #111111 0%, #000000 100%); overflow: hidden; scrollbar-width: none; -ms-overflow-style: none;">
  <head>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      }

      /* Estilos del placeholder para todos los navegadores */
      ::placeholder {
        color: rgba(255, 255, 255, 0.8) !important;
      }
      
      ::-webkit-input-placeholder {
        color: rgba(255, 255, 255, 0.8) !important;
      }
      
      ::-moz-placeholder {
        color: rgba(255, 255, 255, 0.8) !important;
      }
      
      :-ms-input-placeholder {
        color: rgba(255, 255, 255, 0.8) !important;
      }

      /* Hide scrollbar for Chrome, Safari and Opera */
      ::-webkit-scrollbar {
        display: none;
      }

      .scroll-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        height: 100px;
        background: linear-gradient(to bottom, #f5f7fa 0%, rgba(245, 247, 250, 0.9) 50%, rgba(245, 247, 250, 0) 100%);
        z-index: 999;
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .scroll-overlay.visible {
        opacity: 1;
      }

      /* Animaciones mejoradas */
      @keyframes rain {
        0% {
          background-position: 0% 0%;
        }
        100% {
          background-position: -20% 100%;
        }
      }

      @keyframes clouds {
        0% {
          background-position: 0% 50%;
          opacity: 0.4;
          transform: scale(1);
        }
        25% {
          opacity: 0.6;
          transform: scale(1.02);
        }
        50% {
          opacity: 0.7;
          background-position: 50% 50%;
          transform: scale(1.05);
        }
        75% {
          opacity: 0.6;
          transform: scale(1.02);
        }
        100% {
          background-position: 100% 50%;
          opacity: 0.4;
          transform: scale(1);
        }
      }

      @keyframes sunny {
        0% {
          opacity: 0.7;
          background-size: 140% 140%, 170% 170%;
        }
        50% {
          opacity: 0.9;
          background-size: 160% 160%, 190% 190%;
        }
        100% {
          opacity: 0.7;
          background-size: 140% 140%, 170% 170%;
        }
      }

      @keyframes sunrays {
        0% {
          transform: rotate(0deg) scale(1);
        }
        50% {
          transform: rotate(180deg) scale(1.1);
        }
        100% {
          transform: rotate(360deg) scale(1);
        }
      }

      .weather-background {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
        background-size: 200% 200%;
        pointer-events: none;
        mix-blend-mode: screen;
        transition: all 0.5s ease;
      }

      .rain-bg {
        background: 
          linear-gradient(to bottom,
            transparent 0%,
            rgba(255, 255, 255, 0.15) 100%),
          repeating-linear-gradient(110deg,
            transparent 0%,
            transparent 1px,
            rgba(255, 255, 255, 0.15) 1.5px,
            transparent 2px,
            transparent 8px);
        background-size: 100% 100%, 25px 25px;
        animation: rain 0.8s linear infinite;
        opacity: 0.9;
      }

      .rain-bg::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: 
          linear-gradient(to bottom,
            transparent 0%,
            rgba(255, 255, 255, 0.1) 100%),
          repeating-linear-gradient(110deg,
            transparent 0%,
            transparent 1px,
            rgba(255, 255, 255, 0.1) 1.5px,
            transparent 2px,
            transparent 12px);
        background-size: 100% 100%, 35px 35px;
        animation: rain 1.2s linear infinite;
        opacity: 0.7;
      }

      .rain-bg::after {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        background: inherit;
        animation: rain 2.5s linear infinite;
        animation-delay: -0.5s;
        opacity: 0.3;
        transform: rotate(5deg) scale(1.3);
      }

      .clouds-bg {
        background: 
          radial-gradient(circle at 50% 50%, 
            rgba(160, 160, 160, 0.9) 0%,
            rgba(160, 160, 160, 0.7) 20%,
            rgba(160, 160, 160, 0.5) 40%,
            transparent 70%),
          radial-gradient(circle at 30% 40%, 
            rgba(160, 160, 160, 0.9) 0%,
            rgba(160, 160, 160, 0.7) 20%,
            rgba(160, 160, 160, 0.5) 40%,
            transparent 60%),
          radial-gradient(circle at 70% 50%, 
            rgba(160, 160, 160, 0.9) 0%,
            rgba(160, 160, 160, 0.7) 15%,
            rgba(160, 160, 160, 0.5) 30%,
            transparent 50%),
          radial-gradient(circle at 40% 60%, 
            rgba(160, 160, 160, 0.9) 0%,
            rgba(160, 160, 160, 0.7) 20%,
            rgba(160, 160, 160, 0.5) 40%,
            transparent 60%),
          radial-gradient(circle at 60% 30%, 
            rgba(160, 160, 160, 0.9) 0%,
            rgba(160, 160, 160, 0.7) 25%,
            rgba(160, 160, 160, 0.5) 45%,
            transparent 65%);
        opacity: 1;
        filter: blur(2px);
        background-size: 100% 100%;
        transition: all 0.5s ease;
      }

      .city-card {
        background: linear-gradient(135deg,
          rgba(28, 91, 147, 0.6) 0%,
          rgba(28, 91, 147, 0.4) 100%);
        backdrop-filter: blur(10px);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        transition: all 0.3s ease;
        overflow: hidden;
      }

      .city-card:hover {
        transform: translateY(-2px);
        background: linear-gradient(135deg,
          rgba(28, 91, 147, 0.7) 0%,
          rgba(28, 91, 147, 0.5) 100%);
        box-shadow: 
          0 8px 25px rgba(0, 0, 0, 0.3),
          inset 0 0 50px rgba(255, 255, 255, 0.1);
      }

      .city-card:hover .weather-background {
        transform: scale(1.1);
        opacity: 0.9;
      }

      .city-card:hover .sunny-bg {
        opacity: 1;
        background-size: 160% 160%, 190% 190%;
      }

      .city-card:hover .clouds-bg {
        filter: blur(1.5px);
        opacity: 1;
        transform: scale(1.02);
      }

      .city-card:hover .rain-bg {
        animation-duration: 2s;
      }

      .sunny-bg::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(45deg,
          rgba(135, 206, 235, 0.2) 0%,
          rgba(135, 206, 235, 0.1) 50%,
          transparent 100%);
        pointer-events: none;
      }

      .sunny-bg {
        background: 
          radial-gradient(circle at 50% 50%,
            rgba(255, 236, 59, 0.4) 0%,
            rgba(255, 236, 59, 0.2) 30%,
            rgba(255, 236, 59, 0.1) 45%,
            transparent 60%),
          radial-gradient(circle at 50% 50%,
            rgba(255, 236, 59, 0.3) 0%,
            rgba(255, 236, 59, 0.1) 40%,
            transparent 70%);
        animation: sunny 30s ease-in-out infinite;
        opacity: 0.9;
        background-size: 150% 150%, 180% 180%;
        transition: all 0.5s ease;
      }

      /* Estilos para el menú desplegable */
      .dropdown {
        position: relative;
        display: inline-block;
        z-index: 1001;
      }

      .dropdown-content {
        display: none;
        position: absolute;
        right: 0;
        top: 40px;
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(10px);
        min-width: 160px;
        border-radius: 12px;
        padding: 8px 0;
        z-index: 1001;
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      }

      .dropdown-content.show {
        display: block;
      }

      .dropdown-item {
        color: white;
        padding: 10px 15px;
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 14px;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .dropdown-item:hover {
        background: rgba(255, 255, 255, 0.1);
      }

      .dropdown-item i {
        font-size: 16px;
        opacity: 0.9;
      }

      /* Ajustar el z-index de la barra de búsqueda */
      .search-bar-container {
        position: sticky;
        top: 15px;
        width: 100%;
        z-index: 1000;
        padding: 0 0 15px;
        background: linear-gradient(to bottom, rgba(17, 17, 17, 1) 60%, rgba(17, 17, 17, 0));
      }
    </style>
  </head>
  <body style="height: 100vh; margin: 0; background: linear-gradient(135deg, #111111 0%, #000000 100%); color: #ffffff; display: flex; flex-direction: column; align-items: center; justify-content: flex-start; min-height: 100vh; overflow: hidden;">
    <!-- Overlay que aparece al hacer scroll -->
    <div id="scrollOverlay" class="scroll-overlay"></div>

    <!-- Contenido -->
    <div style="padding-top: 4%; width: 90%; max-width: 600px; flex-grow: 1; display: flex; flex-direction: column; align-items: center; overflow-y: auto; overflow-x: hidden;">
      
      <!-- Reemplazar los botones de navegación -->
      <div style="width: 100%; display: flex; justify-content: flex-end; gap: 25px; margin-bottom: 25px; padding-right: 5px;">
        <div class="dropdown">
          <i class="fas fa-ellipsis-v" style="color: rgba(255, 255, 255, 0.9); font-size: 20px; cursor: pointer; transition: color 0.2s ease; padding: 10px;" 
             onclick="document.getElementById('myDropdown').classList.toggle('show')" 
             onmouseover="this.style.color='#00ff9d'" 
             onmouseout="this.style.color='rgba(255, 255, 255, 0.9)'"></i>
          <div id="myDropdown" class="dropdown-content">
            <div class="dropdown-item" (click)="sendLocation()">
              <i class="fas fa-map-location-dot"></i>
              <span>Mapa</span>
            </div>
            <div class="dropdown-item">
              <i class="fas fa-chart-line"></i>
              <span>Estadísticas</span>
            </div>
            <div class="dropdown-item" (click)="goToNewEvent()">
              <i class="fas fa-wallet"></i>
              <span>Monedero</span>
            </div>
            
            <div class="dropdown-item" (click)="profileSettings()">
              <i class="fas fa-gear"></i>
              <span>Ajustes</span>
            </div>
           
          </div>
        </div>
      </div>

      <!-- Barra de búsqueda con clase actualizada -->
      <div class="search-bar-container">
        <div style="position: relative; width: 100%;">
          <input type="text" placeholder="Añadir ciudad" style="width: 100%; padding: 8px 45px; background: rgba(75, 75, 75, 0.4); border: none; border-radius: 12px; color: white; font-size: 14px; backdrop-filter: blur(10px); transition: all 0.3s ease; outline: none; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);">
          <i class="fas fa-search" style="position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: rgba(255, 255, 255, 0.9); font-size: 14px;"></i>
        </div>
      </div>

      <!-- Espaciador para compensar la barra fija -->
      <div style="height: 140px;"></div>

      <!-- Lista de ciudades -->
      <div style="width: 100%; max-width: 600px; margin: 20px auto 150px; display: flex; flex-direction: column; gap: 15px; position: relative;">
        <!-- Madrid - Soleado -->
        <div class="city-card" style="border-radius: 12px; overflow: hidden; cursor: pointer; position: relative;">
          <div class="weather-background sunny-bg"></div>
          <div (click)="dashboard()" style="padding: 20px; position: relative; z-index: 1;">
            <div style="display: flex; justify-content: space-between; align-items: center;">
              <div>
                <h3 style="margin: 0; font-size: 18px; color: white;">Madrid</h3>
                <p style="margin: 4px 0 0; font-size: 13px; color: rgba(255, 255, 255, 0.6);">España</p>
              </div>
              <div style="text-align: right;">
                <div style="font-size: 24px; color: white;">22°C</div>
              </div>
            </div>
            <div style="display: flex; align-items: center; gap: 15px; margin-top: 15px;">
              <div style="display: flex; align-items: center; gap: 4px;">
                <i class="fas fa-users" style="color: rgba(255, 255, 255, 0.9); font-size: 12px;"></i>
                <span style="color: rgba(255, 255, 255, 0.9); font-size: 11px;">156 participantes</span>
              </div>
              <div style="display: flex; align-items: center; gap: 4px;">
                <i class="fas fa-coins" style="color: rgba(255, 215, 0, 1); font-size: 12px;"></i>
                <span style="color: rgba(255, 215, 0, 1); font-size: 11px;">2.450€</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Barcelona - Parcialmente nublado -->
        <div class="city-card" style="border-radius: 12px; overflow: hidden; cursor: pointer; position: relative;">
          <div class="weather-background clouds-bg"></div>
          <div style="padding: 20px; position: relative; z-index: 1;">
            <div style="display: flex; justify-content: space-between; align-items: center;">
              <div>
                <h3 style="margin: 0; font-size: 18px; color: white;">Barcelona</h3>
                <p style="margin: 4px 0 0; font-size: 13px; color: rgba(255, 255, 255, 0.6);">España</p>
              </div>
              <div style="text-align: right;">
                <div style="font-size: 24px; color: white;">24°C</div>
              </div>
            </div>
            <div style="display: flex; align-items: center; gap: 15px; margin-top: 15px;">
              <div style="display: flex; align-items: center; gap: 4px;">
                <i class="fas fa-users" style="color: rgba(255, 255, 255, 0.9); font-size: 12px;"></i>
                <span style="color: rgba(255, 255, 255, 0.9); font-size: 11px;">98 participantes</span>
              </div>
              <div style="display: flex; align-items: center; gap: 4px;">
                <i class="fas fa-coins" style="color: rgba(255, 215, 0, 1); font-size: 12px;"></i>
                <span style="color: rgba(255, 215, 0, 1); font-size: 11px;">1.890€</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Valencia - Soleado -->
        <div class="city-card" style="border-radius: 12px; overflow: hidden; cursor: pointer; position: relative;">
          <div class="weather-background sunny-bg"></div>
          <div style="padding: 20px; position: relative; z-index: 1;">
            <div style="display: flex; justify-content: space-between; align-items: center;">
              <div>
                <h3 style="margin: 0; font-size: 18px; color: white;">Valencia</h3>
                <p style="margin: 4px 0 0; font-size: 13px; color: rgba(255, 255, 255, 0.6);">España</p>
              </div>
              <div style="text-align: right;">
                <div style="font-size: 24px; color: white;">25°C</div>
              </div>
            </div>
            <div style="display: flex; align-items: center; gap: 15px; margin-top: 15px;">
              <div style="display: flex; align-items: center; gap: 4px;">
                <i class="fas fa-users" style="color: rgba(255, 255, 255, 0.9); font-size: 12px;"></i>
                <span style="color: rgba(255, 255, 255, 0.9); font-size: 11px;">76 participantes</span>
              </div>
              <div style="display: flex; align-items: center; gap: 4px;">
                <i class="fas fa-coins" style="color: rgba(255, 215, 0, 1); font-size: 12px;"></i>
                <span style="color: rgba(255, 215, 0, 1); font-size: 11px;">1.520€</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Sevilla - Soleado intenso -->
        <div class="city-card" style="border-radius: 12px; overflow: hidden; cursor: pointer; position: relative;">
          <div class="weather-background sunny-bg" style="opacity: 0.5;"></div>
          <div style="padding: 20px; position: relative; z-index: 1;">
            <div style="display: flex; justify-content: space-between; align-items: center;">
              <div>
                <h3 style="margin: 0; font-size: 18px; color: white;">Sevilla</h3>
                <p style="margin: 4px 0 0; font-size: 13px; color: rgba(255, 255, 255, 0.6);">España</p>
              </div>
              <div style="text-align: right;">
                <div style="font-size: 24px; color: white;">28°C</div>
              </div>
            </div>
            <div style="display: flex; align-items: center; gap: 15px; margin-top: 15px;">
              <div style="display: flex; align-items: center; gap: 4px;">
                <i class="fas fa-users" style="color: rgba(255, 255, 255, 0.9); font-size: 12px;"></i>
                <span style="color: rgba(255, 255, 255, 0.9); font-size: 11px;">64 participantes</span>
              </div>
              <div style="display: flex; align-items: center; gap: 4px;">
                <i class="fas fa-coins" style="color: rgba(255, 215, 0, 1); font-size: 12px;"></i>
                <span style="color: rgba(255, 215, 0, 1); font-size: 11px;">1.280€</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Bilbao - Lluvioso -->
        <div class="city-card" style="border-radius: 12px; overflow: hidden; cursor: pointer; position: relative;">
          <div class="weather-background rain-bg"></div>
          <div style="padding: 20px; position: relative; z-index: 1;">
            <div style="display: flex; justify-content: space-between; align-items: center;">
              <div>
                <h3 style="margin: 0; font-size: 18px; color: white;">Bilbao</h3>
                <p style="margin: 4px 0 0; font-size: 13px; color: rgba(255, 255, 255, 0.6);">España</p>
              </div>
              <div style="text-align: right;">
                <div style="font-size: 24px; color: white;">19°C</div>
              </div>
            </div>
            <div style="display: flex; align-items: center; gap: 15px; margin-top: 15px;">
              <div style="display: flex; align-items: center; gap: 4px;">
                <i class="fas fa-users" style="color: rgba(255, 255, 255, 0.9); font-size: 12px;"></i>
                <span style="color: rgba(255, 255, 255, 0.9); font-size: 11px;">45 participantes</span>
              </div>
              <div style="display: flex; align-items: center; gap: 4px;">
                <i class="fas fa-coins" style="color: rgba(255, 215, 0, 1); font-size: 12px;"></i>
                <span style="color: rgba(255, 215, 0, 1); font-size: 11px;">900€</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      
    </div>
    <script>
      window.addEventListener('scroll', function() {
        const overlay = document.getElementById('scrollOverlay');
        if (window.scrollY > 100) {
          overlay.classList.add('visible');
        } else {
          overlay.classList.remove('visible');
        }
      });

      // Agregar script para cerrar el menú cuando se hace clic fuera
      window.onclick = function(event) {
        if (!event.target.matches('.fa-ellipsis-v')) {
          var dropdowns = document.getElementsByClassName("dropdown-content");
          for (var i = 0; i < dropdowns.length; i++) {
            var openDropdown = dropdowns[i];
            if (openDropdown.classList.contains('show')) {
              openDropdown.classList.remove('show');
            }
          }
        }
      }
    </script>
  </body>
</html>
